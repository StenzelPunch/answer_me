(function(t){function e(e){for(var s,r,o=e[0],l=e[1],c=e[2],d=0,p=[];d<o.length;d++)r=o[d],n[r]&&p.push(n[r][0]),n[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,o=1;o<a.length;o++){var l=a[o];0!==n[l]&&(s=!1)}s&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},n={app:0},i=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="https://stenzelpunch.github.io/answer_me/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var s=a("64a9"),n=a.n(s);n.a},"0528":function(t,e,a){"use strict";var s=a("8dad"),n=a.n(s);n.a},"0699":function(t,e,a){},"0c69":function(t,e,a){"use strict";var s=a("a9ff"),n=a.n(s);n.a},"0e77":function(t,e,a){t.exports=a.p+"img/Promo-img.62bcd158.svg"},"104f":function(t,e,a){"use strict";var s=a("0699"),n=a.n(s);n.a},"40fc":function(t,e,a){"use strict";var s=a("ce61"),n=a.n(s);n.a},4678:function(t,e,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(t){var e=i(t);return a(e)}function i(t){var e=s[t];if(!(e+1)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e}n.keys=function(){return Object.keys(s)},n.resolve=i,t.exports=n,n.id="4678"},"47ce":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var s=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("transition",{attrs:{appear:"",name:"header"}},[a("app-header")],1),a("main",[a("transition",{attrs:{name:"main",mode:"out-in",appear:""}},[a("router-view")],1)],1),a("app-footer")],1)},i=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{attrs:{id:"header"}},[a("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[a("router-link",{staticClass:"navbar-brand text-primary mb-0 h1",attrs:{to:"/"}},[t._v("ANSWER ME")]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{class:"nav-item "+("/"==t.route?"active":"")},[a("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[a("i",{staticClass:"fas fa-home"}),t._v("\n                        Главная\n                        "),a("span",{staticClass:"sr-only"},[t._v("(current)")])])],1),t.user?t._l(t.nav,function(e,s,n){return a("li",{key:n,class:"nav-item "+(t.route==e.path?"active":"")},[a("router-link",{staticClass:"nav-link",attrs:{to:e.path}},[a("i",{class:e.icon}),t._v("\n                            "+t._s(e.title)+"\n                            "),a("span",{staticClass:"sr-only"},[t._v("(current)")])])],1)}):t._e()],2),a("div",{staticClass:"navigation-buttons"},[t.user?a("button",{staticClass:"btn btn-link text-danger my-3 my-sm-0",attrs:{"data-toggle":"modal","data-target":"#logout-modal"}},[t._v("\n                    Выйти\n                ")]):t._e(),t.user?t._e():a("router-link",{class:"btn btn-outline-primary my-2 my-sm-0",attrs:{tag:"button",to:"/login"}},[t._v("Вход")]),t.user?t._e():a("router-link",{class:"btn btn-outline-success my-3 my-sm-0",attrs:{tag:"button",to:"/registration"}},[t._v("Регистрация")])],1)])],1),a("modal-confirm",{attrs:{"modal-name":"logout"},on:{confirm:function(e){return t.logout()}},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n            Выход из учетной записи\n        ")]},proxy:!0},{key:"modal-body",fn:function(){return[t._v("\n            Подтвердите выход из учетной записи\n        ")]},proxy:!0}])})],1)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:t.modalName+"-modal",tabindex:"-1",role:"dialog","aria-labelledby":t.modalName+"-modal-label","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header bg-light"},[a("h5",{staticClass:"modal-title text-primary",attrs:{id:t.modalName+"-modal-label"}},[t._t("modal-title")],2),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(e){return t.close()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[t._t("modal-body")],2),a("div",{staticClass:"modal-footer bg-light"},[a("button",{staticClass:"btn btn-link text-danger",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.cancel()}}},[t._v("\n                    Отмена\n                ")]),a("button",{staticClass:"btn btn-success",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.confirm()}}},[t._v("\n                    Подтведить\n                ")])])])])])},c=[],u={name:"Confirm",props:{modalName:String},methods:{confirm:function(){this.$emit("confirm")},cancel:function(){this.$emit("cansel")},close:function(){this.$emit("close")}}},d=u,p=a("2877"),f=Object(p["a"])(d,l,c,!1,null,null,null),m=f.exports,v={name:"Header",components:{"modal-confirm":m},data:function(){return{nav:{newPoll:{title:"Новый опрос",icon:"fas fa-plus-square",path:"/newpoll"},myPools:{title:"Мои опросы",icon:"fas fa-list-alt",path:"/mypolls"},profile:{title:"Личный кабинет",icon:"fas fa-id-card",path:"/profile"}}}},computed:{user:function(){return this.$store.getters.user},route:function(){return this.$route.path}},methods:{logout:function(){this.$store.dispatch("logout")}}},h=v,b=(a("8baf"),Object(p["a"])(h,r,o,!1,null,null,null)),g=b.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer")},_=[],w={},C=Object(p["a"])(w,y,_,!1,null,null,null),k=C.exports,j={components:{"app-header":g,"app-footer":k}},x=j,q=(a("034f"),Object(p["a"])(x,n,i,!1,null,null,null)),E=q.exports,$=a("8c4f"),P=a("59ca"),N=a.n(P),A=(a("ea7b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"promo container"},[a("div",{staticClass:"row align-items-center"},[a("div",{staticClass:"col-md-6 text-center text-md-left pr-md-5"},[a("h1",{staticClass:"promo-title mb-3 text-primary"},[t._v("Answer me")]),a("p",[t._v("Простой сервис для быстрого создания онлайн опросов.")]),a("button",{staticClass:"btn btn-lg btn-primary",attrs:{type:"button"},on:{click:function(e){return t.go()}}},[t._v("\n                Создать опрос\n            ")])]),t._m(0)])])}),O=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"promo-image col-md-6 text-center text-md-center"},[s("img",{attrs:{src:a("0e77"),alt:""}})])}],B={methods:{go:function(){this.$router.push("/newpoll")}}},L=B,z=(a("cccb"),Object(p["a"])(L,A,O,!1,null,null,null)),S=z.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[t.isPublic?a("div",{attrs:{role:"alert"}},[a("div",{staticClass:"alert alert-primary well",attrs:{role:"alert"}},[a("h4",{staticClass:"alert-heading"},[t._v("Опрос опубликован")]),a("p",[t._v("\n                Вы можете просмотреть его в\n                "),a("router-link",{attrs:{to:"/mypolls"}},[a("strong",[t._v("Моих опросах")]),t._v(",")]),t._v("\n                поделиться ссылкой или создать\n                "),a("strong",{staticClass:"newPollLink",on:{click:function(e){t.isPublic=!1}}},[t._m(0)])],1),a("hr"),a("div",{staticClass:"input-group mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.pollLink,expression:"pollLink"}],staticClass:"form-control",attrs:{id:"pollLink",type:"text",placeholder:t.pollLink,readonly:""},domProps:{value:t.pollLink},on:{input:function(e){e.target.composing||(t.pollLink=e.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:function(e){return t.copy()}}},[t._v("Скопировать")])])])])]):a("div",{staticClass:"constructor"},[t._m(1),a("div",{staticClass:"constructor-body"},[a("div",{staticClass:"newpoll"},[a("div",{staticClass:"newpoll-head"},[a("div",{staticClass:"newpoll-head-titles"},[a("div",{staticClass:"form-group row newpoll-title"},[a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"newpoll-title"}},[t._v("Заголовок:")]),a("div",{staticClass:"col-sm-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.poll.title,expression:"poll.title"}],staticClass:"form-control",attrs:{type:"text",id:"newpoll-title",placeholder:"Заголовок вашего опроса"},domProps:{value:t.poll.title},on:{input:function(e){e.target.composing||t.$set(t.poll,"title",e.target.value)}}})])]),a("div",{staticClass:"form-group row newpoll-description"},[a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"newpoll-description"}},[t._v("Описание:")]),a("div",{staticClass:"col-sm-10"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.poll.description,expression:"poll.description"}],staticClass:"form-control",attrs:{type:"text",id:"newpoll-description",placeholder:"Описание вашего опроса"},domProps:{value:t.poll.description},on:{input:function(e){e.target.composing||t.$set(t.poll,"description",e.target.value)}}})])])])]),a("div",{staticClass:"newpoll-nav"},[t._m(2),a("label",{staticClass:"col-form-label add-label",attrs:{for:"add"}},[t._v("Добавить вопрос")]),a("div",{staticClass:"collapse",attrs:{id:"newpoll-nav-buttons"}},[a("div",{staticClass:"newpoll-nav-buttons-wraper"},[a("button",{staticClass:"btn btn-link",attrs:{type:"button","data-toggle":"collapse","data-target":"#newpoll-nav-buttons","aria-expanded":"false","aria-controls":"collapseExample"},on:{click:function(e){return t.addQuestion("oneof",t.count)}}},[t._v("\n                                Один вариант ответа\n                            ")]),a("button",{staticClass:"btn btn-link",attrs:{type:"button",disabled:""},on:{click:function(e){return t.addQuestion("fewof",t.count)}}},[a("i",[t._v("in progress..")])])])])]),a("div",{staticClass:"newpoll-body"},[a("transition-group",{attrs:{name:"list",tag:"div"}},t._l(t.poll.questions,function(e,s){return a("div",{key:"pollitem-div-"+e.id},["fewof"===e.type?a("fewof",{key:"pollitem"+e.id,attrs:{prop:e},on:{"delete-question":function(e){return t.delQuestion(s)}}}):t._e(),"oneof"===e.type?a("oneof",{key:"pollitem"+e.id,attrs:{prop:t.poll.questions[s]},on:{"delete-question":function(e){return t.delQuestion(s)}}}):t._e()],1)}),0)],1),a("div",{staticClass:"newpoll-footer"},[t.warning?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v("\n                        "+t._s(t.warningMessage)+"\n                    ")]):t._e()])])]),a("transition",{attrs:{name:"fade"}}),a("div",{staticClass:"constructor-footer"},[a("div",{staticClass:"constructor-footer-buttons"},[a("button",{staticClass:"btn btn-link text-danger",on:{click:function(e){return t.clearPoll()}}},[t._v("\n                    Очистить\n                ")]),a("button",{staticClass:"btn btn-primary",attrs:{disabled:!t.isBtnActive},on:{click:function(e){return t.publication()}}},[t._v("\n                    Опубликовать\n                ")])])])],1)])},V=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"text-primary"},[a("strong",[t._v("новый опроc")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"constructor-head"},[a("h3",{staticClass:"constructor-title text-primary"},[t._v("Конструктор опроса")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"btn btn-link align-baseline text-primary",attrs:{id:"add",type:"button","data-toggle":"collapse","data-target":"#newpoll-nav-buttons","aria-expanded":"false","aria-controls":"collapse"}},[a("i",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}})])}],D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"newpoll-item"},[a("button",{staticClass:"btn btn-link text-danger del-item-btn",attrs:{type:"button"},on:{click:function(e){return t.delQuestion()}}},[a("i",{staticClass:"fas fa-times-circle"})]),a("div",{staticClass:"form-group row newpoll-item-title"},[a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"newpoll-item-title"}},[t._v("Вопрос:")]),a("div",{staticClass:"newpoll-item-title-input col-sm-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.question.title,expression:"question.title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"ваш вопрос"},domProps:{value:t.question.title},on:{input:function(e){e.target.composing||t.$set(t.question,"title",e.target.value)}}})])]),a("fieldset",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("legend",{staticClass:"col-form-label col-form-label-pd col-sm-2 pt-0"},[t._v("\n                Ответы:\n            ")]),a("div",{staticClass:"col-sm-10"},[t._l(t.question.variants,function(e,s){return a("div",{key:"variant"+t.question.key+s,staticClass:"custom-control custom-checkbox"},[a("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"variant"+t.question.key+s,name:"checkbox-"+t.question.key}}),a("label",{staticClass:"custom-control-label col",attrs:{for:"variant"+t.question.key+s}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.question.variants[s],expression:"question.variants[index]"}],staticClass:"form-control form-control-mr",attrs:{type:"text",placeholder:"вариант ответа"},domProps:{value:t.question.variants[s]},on:{input:function(e){e.target.composing||t.$set(t.question.variants,s,e.target.value)}}})]),a("button",{staticClass:"btn btn-link text-danger del-variant-btn",attrs:{type:"button"},on:{click:function(e){return t.delVariant(s)}}},[a("i",{staticClass:"fas fa-times"})])])}),a("div",{staticClass:"add-variant"},[a("button",{staticClass:"btn btn-link align-baseline text-primary",attrs:{id:"add-variant"+t.question.key},on:{click:function(e){return t.addVariant()}}},[a("i",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}})]),a("label",{staticClass:"col-form-label add-label",attrs:{for:"add-variant"+t.question.key}},[t._v("добавить вариант")])])],2)])])])},U=[],I={name:"fewof",props:["prop"],beforeMount:function(){this.question=this.prop},data:function(){return{question:null}},methods:{addVariant:function(){this.question.addVariant("")},delVariant:function(t){this.question.delVariant(t)},delQuestion:function(){this.$emit("delete-question",this.question.id)}}},Q=I,G=(a("c6b4"),Object(p["a"])(Q,D,U,!1,null,"395b32d8",null)),W=G.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"newpoll-item"},[a("button",{staticClass:"btn btn-link text-danger del-item-btn",attrs:{type:"button"},on:{click:function(e){return t.delQuestion()}}},[a("i",{staticClass:"fas fa-times-circle"})]),a("div",{staticClass:"form-group row newpoll-item-title"},[a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"newpoll-item-title"}},[t._v("Вопрос:")]),a("div",{staticClass:"newpoll-item-title-input col-sm-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.question.title,expression:"question.title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"ваш вопрос"},domProps:{value:t.question.title},on:{input:function(e){e.target.composing||t.$set(t.question,"title",e.target.value)}}})])]),a("fieldset",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("legend",{staticClass:"col-form-label col-form-label-pd col-sm-2 pt-0"},[t._v("\n                Ответы:\n            ")]),a("div",{staticClass:"col-sm-10"},[t._l(t.question.variants,function(e,s){return a("div",{key:"variant"+t.question.key+s,staticClass:"custom-control custom-radio"},[a("input",{staticClass:"custom-control-input",attrs:{type:"radio",id:"variant"+t.question.key+s,name:"radio-"+t.question.key}}),a("label",{staticClass:"custom-control-label col",attrs:{for:"variant"+t.question.key+s}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.question.variants[s],expression:"question.variants[index]"}],staticClass:"form-control form-control-mr",attrs:{type:"text",placeholder:"вариант ответа"},domProps:{value:t.question.variants[s]},on:{input:function(e){e.target.composing||t.$set(t.question.variants,s,e.target.value)}}})]),a("button",{staticClass:"btn btn-link text-danger del-variant-btn",attrs:{type:"button"},on:{click:function(e){return t.delVariant(s)}}},[a("i",{staticClass:"fas fa-times"})])])}),a("div",{staticClass:"add-variant"},[a("button",{staticClass:"btn btn-link align-baseline text-primary",attrs:{id:"add-variant"+t.question.key},on:{click:function(e){return t.addVariant()}}},[a("i",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}})]),a("label",{staticClass:"col-form-label add-label",attrs:{for:"add-variant"+t.question.key}},[t._v("добавить вариант")])])],2)])])])},T=[],F={name:"fewof",props:["prop"],beforeMount:function(){this.question=this.prop},data:function(){return{question:null}},methods:{addVariant:function(){this.question.addVariant("")},delVariant:function(t){this.question.delVariant(t)},delQuestion:function(){this.$emit("delete-question",this.question.id)}}},Z=F,H=(a("104f"),Object(p["a"])(Z,R,T,!1,null,"e687cd30",null)),J=H.exports,K=a("d225"),Y=a("b0b4"),X=function(){function t(e){for(var a in Object(K["a"])(this,t),this.id=null,this.title="",this.type="",this.variants=[""],e)this[a]=e[a]}return Object(Y["a"])(t,[{key:"data",value:function(){return{id:this.id,title:this.title,type:this.type,variants:this.variants}}},{key:"addType",value:function(t){this.type=t}},{key:"addVariant",value:function(t){this.variants.push(t)}},{key:"delVariant",value:function(t){this.variants.splice(t,1)}},{key:"variantsSum",get:function(){return this.variants.length}}]),t}(),tt=function(){function t(e){for(var a in Object(K["a"])(this,t),this.author=null,this.title=null,this.description=null,this.date=null,this.questions=[],this.answers=[],this.end=!1,e)if("questions"!==a)this[a]=e[a];else for(var s in e.questions)this.questions.push(new X(e.questions[s]))}return Object(Y["a"])(t,[{key:"addQuestion",value:function(t){this.questions.push(new X(t))}},{key:"delQuestion",value:function(t){this.questions.splice(t,1)}},{key:"data",value:function(){var t=this.questions;return{author:this.author,title:this.title,description:this.description,date:this.date,answers:this.answers,end:this.end,get questions(){var e=[];for(var a in t)e.push(t[a].data());return e}}}},{key:"questionsSum",get:function(){return this.questions.length}},{key:"answersSum",get:function(){return this.answers.length}}]),t}(),et=(a("e71f"),{name:"NewPoll",components:{fewof:W,oneof:J},data:function(){return{count:0,poll:new tt,warning:!1,warningMessage:"",isBtnActive:!0,isPublic:!1,id:""}},computed:{user:function(){return this.$store.getters.user},pollLink:function(){return"https://stenzelpunch.github.io/answer_me/poll/"+this.id}},methods:{delQuestion:function(t){this.poll.delQuestion(t)},addQuestion:function(t){this.poll.addQuestion({id:this.count,type:t}),this.count++},clearPoll:function(){this.poll=new tt},toggleWarning:function(t,e){this.warning=t,this.warningMessage=e},publication:function(){var t=this;if(this.isBtnActive=!1,this.isEmptyInput()){var e=N.a.firestore().collection("polls");this.poll.date=new Date,this.poll.author=this.user,e.add(this.poll.data()).then(function(e){t.id=e.id,N.a.firestore().collection("users").doc("".concat(t.user)).update({polls:N.a.firestore.FieldValue.arrayUnion("".concat(e.id))}),t.clearPoll(),t.showPublicationAlert(),t.isBtnActive=!0}),this.clearPoll(),this.showPublicationAlert(),this.isBtnActive=!0}else this.isBtnActive=!0},isEmptyInput:function(){var t=this.poll.title,e=this.poll.questions;if(t&&""!==t.trim()){if(e.length){for(var a in e){if(!e[a].title)return this.toggleWarning(!0,"Не оставляейте вопросы пустыми"),!1;if(!e[a].variants.length)return this.toggleWarning(!0,"Остались вопросы без вариантов ответа"),!1;for(var s in e[a].variants)if(""===e[a].variants[s].trim())return this.toggleWarning(!0,"Остались пустые варианты ответа"),!1}return this.toggleWarning(!1,""),!0}return this.toggleWarning(!0,"Добавьте хотя бы один вопрос"),!1}return this.toggleWarning(!0,"Не оставляете заголовок пустым"),!1},showPublicationAlert:function(){this.isPublic=!0},copy:function(){var t=document.getElementById("pollLink");t.select(),document.execCommand("copy")}}}),at=et,st=(a("0528"),Object(p["a"])(at,M,V,!1,null,null,null)),nt=st.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"mypolls-header d-flex align-items-center"},[a("div",{staticClass:"mypolls-number mr-auto align-baseline"},[t._v("\n            Количество опросов: "),a("span",{staticClass:"text-primary"},[t._v(t._s(t.pollsNumber))])]),a("div",{staticClass:"dropdown align-baseline"},[a("button",{staticClass:"btn btn-link dropdown-toggle align-baseline",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n                Сортировка\n            ")]),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},t._l(t.sortBtns,function(e,s){return a("a",{key:s,class:"dropdown-item "+(e.criterion===t.sortCriterion?"active":""),attrs:{href:"#"},on:{click:function(a){return t.pollSort(e.criterion)}}},[t._v("\n                    "+t._s(e.title)+"\n                ")])}),0)])]),a("div",{staticClass:"mypolls-body row"},t._l(t.polls,function(e,s){return a("div",{key:s,class:"mypolls-item-wraper col-md-6"},[a("div",{class:"mypolls-item "+t.endClass(s)},[a("div",{staticClass:"mypolls-item-header d-flex align-items-center"},[a("p",{staticClass:"h5 mr-auto"},[a("router-link",{attrs:{to:"/statistics/"+e.id}},[t._v(t._s(e.title))])],1),t._m(0,!0),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdown-actions"}},[t.isEnd(s)?a("button",{staticClass:"dropdown-item btn btn-link text-success",attrs:{"data-toggle":"modal","data-target":"#resume-poll-modal"},on:{click:function(e){return t.writeBufer(s)}}},[t._v("\n                            Возобновить\n                        ")]):t._e(),t.isEnd(s)?t._e():a("button",{staticClass:"dropdown-item btn btn-link text-warning",attrs:{"data-toggle":"modal","data-target":"#end-poll-modal"},on:{click:function(e){return t.writeBufer(s)}}},[t._v("\n                            Остановить\n                        ")]),a("button",{staticClass:"dropdown-item btn btn-link text-danger",attrs:{"data-toggle":"modal","data-target":"#delete-poll-modal"},on:{click:function(e){return t.writeBufer(s)}}},[t._v("\n                            Удалить\n                        ")])])]),a("div",[a("p",[a("span",{staticClass:"text-secondary"},[t._v("Ответов:")]),t._v(" "+t._s(e.answers.length))]),a("p",[a("span",{staticClass:"text-secondary"},[t._v("Дата создания:")]),t._v(" "+t._s(t.date(e.date)))]),a("p",[a("a",{staticClass:"text-info",attrs:{"data-toggle":"collapse",href:"#poll-link-collapse-"+s,role:"button","aria-expanded":"false","aria-controls":"collapseExample"}},[a("i",{staticClass:"fas fa-link"}),t._v(" Ссылка на опрос\n                        ")])])]),a("div",{staticClass:"collapse",attrs:{id:"poll-link-collapse-"+s}},[a("div",{staticClass:"input-group input-group-sm mb-3"},[a("input",{staticClass:"form-control visually-hidden",attrs:{id:"pollLink-"+s,type:"text",placeholder:t.pollLink,readonly:""},domProps:{value:t.pollLink(s)}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button","data-toggle":"collapse","data-target":"#poll-link-collapse-"+s,"aria-expanded":"false","aria-controls":"poll-link-collapse-"+s},on:{click:function(e){return t.copy(s)}}},[t._v("\n                                Скопировать\n                            ")])])])]),t.isEnd(s)?a("span",{staticClass:"badge badge-secondary"},[t._v("Остановлен")]):t._e()])])}),0),a("modal-confirm",{attrs:{"modal-name":"delete-poll"},on:{confirm:function(e){t.deletePoll(t.bufferIndex),t.writeBufer("")},cansel:function(e){return t.writeBufer("")},close:function(e){return t.writeBufer("")}},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n            Удаление опроса\n        ")]},proxy:!0},{key:"modal-body",fn:function(){return[t._v("\n            После удаления статистика этого опроса будет недоступна. Чтобы не терять статистику, рекомендуется\n            "),a("strong",[t._v("завершить")]),t._v(" опрос.\n        ")]},proxy:!0}])}),a("modal-confirm",{attrs:{"modal-name":"end-poll"},on:{confirm:function(e){t.endPoll(t.bufferIndex),t.writeBufer("")},cansel:function(e){return t.writeBufer("")},close:function(e){return t.writeBufer("")}},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n            Завершение опроса\n        ")]},proxy:!0},{key:"modal-body",fn:function(){return[t._v("\n            После завершения статистика этого опроса сохранится, но новых ответов поступать не будет. Вы можете\n            возобновить опрос в дальнейшем.\n        ")]},proxy:!0}])}),a("modal-confirm",{attrs:{"modal-name":"resume-poll"},on:{confirm:function(e){t.resumePoll(t.bufferIndex),t.writeBufer("")},cansel:function(e){return t.writeBufer("")},close:function(e){return t.writeBufer("")}},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n            Возобновление опроса\n        ")]},proxy:!0},{key:"modal-body",fn:function(){return[t._v("\n            После возобновления, пользователи снова смогут давать ответы.\n        ")]},proxy:!0}])})],1)},rt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"btn btn-link text-info align-baseline",attrs:{type:"button",id:"dropdown-actions","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[a("i",{staticClass:"fas fa-ellipsis-h"})])}],ot=a("5d73"),lt=a.n(ot),ct=(a("55dd"),{name:"MyPolls",components:{"modal-confirm":m},data:function(){return{polls:[],bufferIndex:"",db:N.a.firestore().collection("polls"),sortBtns:[{title:"Дата",criterion:"date"},{title:"Ответы",criterion:"answers"}],sortCriterion:"date"}},computed:{pollsNumber:function(){return this.polls.length}},methods:{date:function(t){var e=new Date(1e3*t.seconds),a=e.getUTCMonth()+1,s=e.getUTCDate(),n=e.getUTCFullYear();return s=s<10?"0"+s:s,a=a<10?"0"+a:a,s+"."+a+"."+n},isEnd:function(t){return this.polls[t].end},endClass:function(t){return this.polls[t].end?"end":""},writeBufer:function(t){this.bufferIndex=t},deletePoll:function(t){this.polls.splice(t,1),this.db.doc(this.polls[t].id).delete()},pollLink:function(t){return"https://stenzelpunch.github.io/answer_me/poll/"+this.polls[t].id},copy:function(t){var e=document.getElementById("pollLink-"+t);e.select(),document.execCommand("copy")},endPoll:function(t){this.polls[t].end=!0,this.db.doc(this.polls[t].id).update({end:!0})},resumePoll:function(t){this.polls[t].end=!1,this.db.doc(this.polls[t].id).update({end:!1})},pollSort:function(t){this.sortCriterion=t,this.polls.sort(function(e,a){return e[t]>a[t]?-1:e[t]<a[t]?1:0})}},beforeMount:function(){var t=this,e=this.$store.getters.user;this.db.where("author","==",e).get().then(function(e){var a=e.docs,s=!0,n=!1,i=void 0;try{for(var r,o=lt()(a);!(s=(r=o.next()).done);s=!0){var l=r.value,c=new tt(l.data());c.id=l.id,t.polls.push(c)}}catch(u){n=!0,i=u}finally{try{s||null==o.return||o.return()}finally{if(n)throw i}}t.pollSort(t.sortCriterion)})}}),ut=ct,dt=(a("f7f2"),Object(p["a"])(ut,it,rt,!1,null,"ab0c677c",null)),pt=dt.exports,ft=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},mt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"alert alert-light",attrs:{role:"alert"}},[t._v("\n        In progress..\n    ")])])}],vt={name:"Profile"},ht=vt,bt=(a("710c"),Object(p["a"])(ht,ft,mt,!1,null,"34fde390",null)),gt=bt.exports,yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container reg-form"},[a("h3",{staticClass:"text-primary registration-title"},[t._v("Регистрация")]),t._l(t.formData,function(e,s,n){return a("div",{key:n,staticClass:"form-group"},[a("label",{attrs:{for:e.id}},[t._v(t._s(e.title))]),"checkbox"===e.type?a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"item.value"}],class:e.class,attrs:{id:e.id,placeholder:e.placeholder,required:"",type:"checkbox"},domProps:{checked:Array.isArray(e.value)?t._i(e.value,null)>-1:e.value},on:{input:function(t){return e.validate()},change:function(a){var s=e.value,n=a.target,i=!!n.checked;if(Array.isArray(s)){var r=null,o=t._i(s,r);n.checked?o<0&&t.$set(e,"value",s.concat([r])):o>-1&&t.$set(e,"value",s.slice(0,o).concat(s.slice(o+1)))}else t.$set(e,"value",i)}}}):"radio"===e.type?a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"item.value"}],class:e.class,attrs:{id:e.id,placeholder:e.placeholder,required:"",type:"radio"},domProps:{checked:t._q(e.value,null)},on:{input:function(t){return e.validate()},change:function(a){return t.$set(e,"value",null)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"item.value"}],class:e.class,attrs:{id:e.id,placeholder:e.placeholder,required:"",type:e.type},domProps:{value:e.value},on:{input:[function(a){a.target.composing||t.$set(e,"value",a.target.value)},function(t){return e.validate()}]}}),a("div",{staticClass:"valid-feedback"},[t._v("\n            Looks good!\n        ")]),a("div",{staticClass:"invalid-feedback"},[t._v("\n            "+t._s(e.invalidFeedback)+"\n        ")])])}),t.error?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v("\n        "+t._s(t.error)+"\n    ")]):t._e(),a("small",{staticClass:"text-muted mr-auto"},[t._v("\n        Уже есть аккаунт?\n        "),a("router-link",{attrs:{to:"/login"}},[t._v(" Войдите")])],1),a("button",{staticClass:"btn btn-primary registration-btn",attrs:{type:"submit",disabled:!t.isActiveBtn},on:{click:function(e){return t.submit(e)}}},[t._v("\n        Зарегистрироваться\n    ")])],2)},_t=[],wt=(a("3b2b"),function(){function t(e,a,s,n,i,r,o,l){Object(K["a"])(this,t),this.value=e,this.title=a,this.type=s,this.class={"form-control":!0,"is-invalid":!1,"is-valid":!1},this.id=n,this.placeholder=i,this.isValid=r,this.invalidFeedback=o,this.pattern=new RegExp(l)}return Object(Y["a"])(t,[{key:"validate",value:function(){var t=this.pattern.test(this.value);t?(this.isValid=!0,this.class["is-valid"]=!0,this.class["is-invalid"]=!1):t||(this.isValid=!1,this.class["is-valid"]=!1,this.class["is-invalid"]=!0)}}]),t}()),Ct={firstName:new wt(null,"Имя","text","first-name","Введите имя",!1,"Введите имя на русском или украинском языке",/^[А-Яа-яёЁЇїІіЄєҐґ]{2,100}/),lastName:new wt(null,"Фамилия","text","last-name","Введите фамилию",!1,"Введите фамилию на русском или украинском языке",/^[А-Яа-яёЁЇїІіЄєҐґ]{2,100}/),email:new wt(null,"Адрес электронной почты","email","reg-email","example@mail.com",!1,"Введите существующий адрес электорнной почты",/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),password:new wt(null,"Пароль","password","reg-password","Введите пароль",!1,"Пароль должен быть длинее 5 символов и не содержать специальных символов",/[0-9a-zA-Z]{6,30}/)},kt={name:"Registration",data:function(){return{formData:Ct}},computed:{user:function(){return this.$store.getters.user},error:function(){return this.$store.getters.regError},isActiveBtn:function(){var t=0;for(var e in this.formData)this.formData[e].isValid&&t++;return 4===t}},methods:{submit:function(t){t.preventDefault();var e={email:this.formData.email.value,password:this.formData.password.value,firstName:this.formData.firstName.value,lastName:this.formData.lastName.value};this.$store.dispatch("registration",e)}}},jt=kt,xt=(a("6963"),Object(p["a"])(jt,yt,_t,!1,null,"2eda8674",null)),qt=xt.exports,Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("h3",{staticClass:"text-primary login-title"},[t._v("Войти")]),a("form",[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"login-email"}},[t._v("Адрес электронной почты")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"login-email","aria-describedby":"emailHelp",placeholder:"Введите адрес электронной почты"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"password"}},[t._v("Пароль")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"Введите пароль"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t.error?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v("\n            "+t._s(t.error)+"\n        ")]):t._e(),a("small",{staticClass:"text-muted mr-auto"},[t._v("\n            Нет аккаунта?\n            "),a("router-link",{attrs:{to:"/registration"}},[t._v(" Зарегестрируйтесь")])],1),a("button",{staticClass:"btn btn-primary login-btn",attrs:{type:"submit",disabled:!t.isBtnActive},on:{click:function(e){return t.login(t.email,t.password)}}},[t._v("\n            Войти\n        ")])])])},$t=[],Pt={name:"Login",data:function(){return{email:null,password:null}},computed:{error:function(){return this.$store.getters.loginError},user:function(){return this.$store.getters.user},isBtnActive:function(){return!(!this.email||!this.password)}},methods:{login:function(t,e){event.preventDefault(),this.$store.dispatch("login",{email:t,password:e})}}},Nt=Pt,At=(a("96bd"),Object(p["a"])(Nt,Et,$t,!1,null,"6478b953",null)),Ot=At.exports,Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",attrs:{id:"poll-view"}},[a("transition",{attrs:{name:"fade",mode:"out-in"}},["Not found"===t.status?a("app-alert",{attrs:{type:"secondary"}},[t._v("\n            Опрос не найден\n        ")]):"Completed"===t.status?a("app-alert",{attrs:{type:"success"}},[t._v("\n            Опрос успешно пройден. Спасибо за участие.\n        ")]):"Completed before"===t.status?a("app-alert",{attrs:{type:"warning"}},[t._v("\n            Опрос был пройден вами ранее.\n        ")]):"End"===t.status?a("app-alert",{attrs:{type:"secondary"}},[t._v("\n            Опрос был завершен.\n        ")]):"Loading"===t.status?a("app-loading"):"Loaded"===t.status?a("form",{key:"Loaded",staticClass:"poll",on:{submit:function(e){return t.submit(e)}}},[a("div",{staticClass:"poll-head"},[a("h4",[t._v(t._s(t.data.title))]),a("p",[t._v(t._s(t.data.description))])]),t._l(t.data.questions,function(e,s){return a("div",{key:s,staticClass:"poll-question"},[a("h5",[t._v(t._s(e.title))]),t._l(e.variants,function(n,i){return a("div",{key:i,class:"custom-control custom-"+t.type(e.type)},[a("input",{staticClass:"custom-control-input",attrs:{type:t.type(e.type),id:t.type(e.type)+"-"+s+"-"+i,name:"-group-"+s},on:{input:function(e){return t.select(s,i,e)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:t.type(e.type)+"-"+s+"-"+i}},[t._v(t._s(n))])])})],2)}),a("div",{staticClass:"poll-footer"},[t.showError?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v("\n                    Необходимо ответить на все вопросы!\n                ")]):t._e(),a("button",{staticClass:"btn btn-primary btn-reply",attrs:{type:"submit"}},[t._v("\n                    Ответить\n                ")])])],2):t._e()],1)],1)},Lt=[],zt=a("a4bb"),St=a.n(zt),Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"404"}},[a("div",{key:"Not-found",class:"alert alert-"+t.type,attrs:{role:"alert"}},[a("h3",[t._t("default")],2),a("hr"),a("router-link",{staticClass:"alert-link",attrs:{to:"/"}},[a("i",{staticClass:"fas fa-arrow-left"}),t._v(" На главную")])],1)])},Vt=[],Dt={name:"NotFound",props:["type"],data:function(){return{}}},Ut=Dt,It=(a("6718"),Object(p["a"])(Ut,Mt,Vt,!1,null,"da8511dc",null)),Qt=It.exports,Gt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Wt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"loading"},[a("div",{staticClass:"spinner-border text-primary",attrs:{role:"status"}},[a("span",{staticClass:"sr-only"},[t._v("Loading...")])])])}],Rt={name:"Loading",data:function(){return{}}},Tt=Rt,Ft=(a("0c69"),Object(p["a"])(Tt,Gt,Wt,!1,null,"4c4f6b8a",null)),Zt=Ft.exports,Ht={name:"poll-view",components:{"app-alert":Qt,"app-loading":Zt},data:function(){return{data:null,answers:{},showError:!1,completed:!1,completedBefore:!1}},computed:{status:function(){return null===this.data?"Loading":void 0===this.data?"Not found":!0===this.data.end?"End":this.completed?"Completed":this.completedBefore?"Completed before":"Loaded"}},methods:{type:function(t){return"fewof"===t?"checkbox":"oneof"===t?"radio":void 0},select:function(t,e){this.answers[t]=e},check:function(){return St()(this.answers).length===this.data.questions.length},submit:function(t){if(t.preventDefault(),this.check()){var e={u:this.$store.getters.user,d:new Date,values:this.answers};N.a.firestore().collection("polls").doc(this.$route.params["poll_id"]).update({answers:N.a.firestore.FieldValue.arrayUnion(e)}),this.completed=!0}else this.showError=!0}},beforeMount:function(){var t=this,e=this.$route.params["poll_id"];N.a.firestore().collection("polls").doc(e).get().then(function(e){if(e.data()){for(var a in e.data().answers)t.$store.getters.user===e.data().answers[a].u&&(t.completedBefore=!0);t.data=new tt(e.data())}else t.data=void 0})}},Jt=Ht,Kt=(a("cb09"),Object(p["a"])(Jt,Bt,Lt,!1,null,"37d990ae",null)),Yt=Kt.exports,Xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",attrs:{id:"statistics"}},["Loading"===t.status?a("app-loading"):t._e(),"Not found"===t.status?a("app-alert",{attrs:{type:"secondary"}},[t._v("\n        Опрос не найден\n    ")]):t._e(),"No access"===t.status?a("app-alert",{attrs:{type:"warning"}},[t._v("\n        Нет доступа\n    ")]):"Loaded"===t.status?a("div",{staticClass:"questions"},t._l(t.data.questions,function(e,s){return a("div",{key:s,staticClass:"question"},[a("h4",[a("span",{staticClass:"question-number"},[t._v(t._s(s+1)+".")]),t._v(" "+t._s(e.title)+"\n            ")]),a("div",[a("chart-view",{attrs:{variants:e.variants,answers:t.statistics[s],index:s}})],1)])}),0):t._e()],1)},te=[],ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6"},[a("canvas",{staticClass:"chart",attrs:{id:"chart-"+t.index}})]),a("div",{staticClass:"col-lg-6"},[a("table",{staticClass:"table table-borderless table-sm"},[t._m(0),a("tbody",t._l(t.variants,function(e,s,n){return a("tr",{key:n},[a("td",[t._v("\n                        "+t._s(t.numbers[s])+"\n                    ")]),a("td",[t._v("\n                        "+t._s(e)+"\n                    ")]),a("td",[t._v("\n                        "+t._s(t.answers[s])+"\n                    ")])])}),0)])])])},ae=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-light"},[a("tr",[a("th",[t._v("\n                        #\n                    ")]),a("th",[t._v("\n                        Вариант ответа\n                    ")]),a("th",[t._v("\n                        Ответов\n                    ")])])])}],se=a("e814"),ne=a.n(se),ie=a("30ef"),re=a.n(ie),oe={name:"chart",props:["variants","answers","index"],data:function(){return{}},computed:{numbers:function(){var t=[];for(var e in this.variants)t.push(ne()(e)+1);return t},union:function(){var t=[];for(var e in this.variants)t.push({variant:this.variants[e],value:this.answers[e]});return t}},mounted:function(){var t=document.getElementById("chart-"+this.index);new re.a(t,{type:"horizontalBar",data:{labels:this.numbers,datasets:[{label:"",data:this.answers,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},options:{legend:{display:!1},responsive:!0,scales:{xAxes:[{gridLines:{display:!1},ticks:{beginAtZero:!0,stepSize:1}}],yAxes:[{gridLines:{display:!1}}]}}})}},le=oe,ce=(a("5ca3"),Object(p["a"])(le,ee,ae,!1,null,"0df62d7c",null)),ue=ce.exports,de=(a("ac6a"),function t(e){for(var a in Object(K["a"])(this,t),e.questions){var s=e.questions[a];for(var n in this[a]=[],s.variants)this[a][n]=0}for(var i in e.answers){var r=e.answers[i].values;for(var o in r){var l=r[o];this[o][l]++}}});function pe(t,e){N.a.firestore().collection("polls").doc(e).get().then(function(e){void 0!==e.data()?e.data().author===t.$store.getters.user?(t.access=!0,t.data=new tt(e.data()),t.statistics=new de(t.data)):t.access=!1:t.data=void 0})}var fe={name:"statistics-view",components:{"chart-view":ue,"app-alert":Qt,"app-loading":Zt},data:function(){return{data:null,statistics:{},access:null}},computed:{status:function(){return null===this.data&&null===this.access?"Loading":void 0===this.data?"Not found":!1===this.access?"No access":"Loaded"}},beforeMount:function(){var t=this.$route.params["poll_id"];pe(this,t)},beforeRouteUpdate:function(t,e,a){this.data=null,this.statistics={},this.access=null;var s=t.params["poll_id"];pe(this,s),a()}},me=fe,ve=(a("40fc"),Object(p["a"])(me,Xt,te,!1,null,"7c17f428",null)),he=ve.exports;s["a"].use($["a"]);var be=new $["a"]({mode:"history",routes:[{path:"/",name:"home",component:S,meta:{requiresAuth:!1,requiresGuest:!1}},{path:"/newpoll",name:"newpoll",component:nt,meta:{requiresAuth:!0,requiresGuest:!1}},{path:"/mypolls",name:"mypolls",component:pt,meta:{requiresAuth:!0,requiresGuest:!1}},{path:"/profile",name:"profile",component:gt,meta:{requiresAuth:!0,requiresGuest:!1}},{path:"/registration",name:"registration",component:qt,meta:{requiresAuth:!1,requiresGuest:!0}},{path:"/login",name:"login",component:Ot,meta:{requiresAuth:!1,requiresGuest:!0}},{path:"/poll/:poll_id",name:"poll-view",component:Yt,meta:{requiresAuth:!0,requiresGuest:!1}},{path:"/statistics/:poll_id",name:"statistics-view",component:he,meta:{requiresAuth:!0,requiresGuest:!1}}]});be.beforeEach(function(t,e,a){N.a.auth().onAuthStateChanged(function(e){t.meta.requiresAuth&&!t.meta.requiresGuest?e?a():a({path:"/login"}):!t.meta.requiresAuth&&t.meta.requiresGuest&&e?a({path:"/"}):a()})});var ge=be,ye=a("2f62"),_e=(a("28a5"),function(){function t(e){for(var a in Object(K["a"])(this,t),this.firstName=null,this.lastName=null,this.email=null,this.id=null,this.polls=[],e)this[a]=e[a]}return Object(Y["a"])(t,[{key:"data",value:function(){return{firstName:this.firstName,lastName:this.lastName,email:this.email,id:this.id,polls:this.polls}}},{key:"addPoll",value:function(t){this.polls.push(t)}},{key:"delPoll",value:function(t){for(var e in this.polls)this.polls[e]===t&&this.polls.slice(ne()(e),1)}},{key:"fullName",get:function(){return this.firstName+" "+this.lastName}},{key:"username",get:function(){return this.email.split("@")[0]}},{key:"pollSum",get:function(){return this.polls.length}}]),t}()),we={state:{user:null,_user:null,profile:null,loginError:null,regError:null},mutations:{setUser:function(t,e){e?(t.user=e.uid,t["_user"]=e):t.user=e},setProfile:function(t,e){t.profile=e},setLoginError:function(t,e){t.loginError=e},setRegError:function(t,e){t.regError=e}},actions:{setUser:function(t,e){var a=t.commit;a("setUser",e)},login:function(t,e){var a=t.commit;try{N.a.auth().signInWithEmailAndPassword(e.email,e.password).then(function(t){a("setUser",t),a("setLoginError",null)}).catch(function(t){a("setLoginError",t)})}catch(s){a("setLoginError",s)}},registration:function(t,e){var a=t.commit;try{N.a.auth().createUserWithEmailAndPassword(e.email,e.password).then(function(t){var s=Ce(e,t.user.uid);N.a.firestore().collection("users").doc("".concat(t.user.uid)).set(s.data()),a("setUser",t.user),a("setRegError",null),a("setProfile",s)}).catch(function(t){a("setRegError",t)})}catch(s){a("setRegError",s)}},logout:function(t){var e=t.commit;N.a.auth().signOut().then(function(){e("setUser",null)})},setProfile:function(t,e){var a=t.commit;e?N.a.firestore().collection("users").doc(e.uid).get().then(function(t){a("setProfile",new _e(t.data()))}):a("setProfile",null)}},getters:{user:function(t){return t.user},loginError:function(t){return t.loginError},regError:function(t){return t.regError}}};function Ce(t,e){var a={email:t.email,firstName:t.firstName,lastName:t.lastName,id:e};return new _e(a)}s["a"].use(ye["a"]);var ke=new ye["a"].Store({modules:{user:we}}),je=(a("66ce"),a("588e"),{apiKey:"AIzaSyB5hQdKSpujIRbtznvlj4nGv3yaMrZnuyw",authDomain:"answer-me-f2634.firebaseapp.com",databaseURL:"https://answer-me-f2634.firebaseio.com",projectId:"answer-me-f2634",storageBucket:"answer-me-f2634.appspot.com",messagingSenderId:"416006589948"});N.a.initializeApp(je),s["a"].config.productionTip=!1,new s["a"]({router:ge,store:ke,render:function(t){return t(E)},beforeMount:function(){var t=this;N.a.auth().onAuthStateChanged(function(e){t.$store.dispatch("setUser",e),t.$store.dispatch("setProfile",e)})}}).$mount("#app")},"5ca3":function(t,e,a){"use strict";var s=a("7da6"),n=a.n(s);n.a},"64a9":function(t,e,a){},6718:function(t,e,a){"use strict";var s=a("af96"),n=a.n(s);n.a},6963:function(t,e,a){"use strict";var s=a("c90e"),n=a.n(s);n.a},"710c":function(t,e,a){"use strict";var s=a("47ce"),n=a.n(s);n.a},"782e":function(t,e,a){},"7da6":function(t,e,a){},"7e96":function(t,e,a){},8892:function(t,e,a){},"8baf":function(t,e,a){"use strict";var s=a("782e"),n=a.n(s);n.a},"8dad":function(t,e,a){},"8dbe":function(t,e,a){},"96bd":function(t,e,a){"use strict";var s=a("8892"),n=a.n(s);n.a},a9ff:function(t,e,a){},af96:function(t,e,a){},c6b4:function(t,e,a){"use strict";var s=a("8dbe"),n=a.n(s);n.a},c90e:function(t,e,a){},cb09:function(t,e,a){"use strict";var s=a("dbbf"),n=a.n(s);n.a},cccb:function(t,e,a){"use strict";var s=a("d563"),n=a.n(s);n.a},ce61:function(t,e,a){},d563:function(t,e,a){},dbbf:function(t,e,a){},f7f2:function(t,e,a){"use strict";var s=a("7e96"),n=a.n(s);n.a}});
//# sourceMappingURL=app.34a6cb2f.js.map