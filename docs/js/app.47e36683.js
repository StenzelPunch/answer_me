(function(t){function e(e){for(var a,r,o=e[0],l=e[1],c=e[2],d=0,p=[];d<o.length;d++)r=o[d],n[r]&&p.push(n[r][0]),n[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,c||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,o=1;o<s.length;o++){var l=s[o];0!==n[l]&&(a=!1)}a&&(i.splice(e--,1),t=r(r.s=s[0]))}return t}var a={},n={app:0},i=[];function r(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=a,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(s,a,function(e){return t[e]}.bind(null,a));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/answer_me/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var a=s("64a9"),n=s.n(a);n.a},"0528":function(t,e,s){"use strict";var a=s("8dad"),n=s.n(a);n.a},"0699":function(t,e,s){},"0c69":function(t,e,s){"use strict";var a=s("a9ff"),n=s.n(a);n.a},"0e77":function(t,e,s){t.exports=s.p+"img/Promo-img.62bcd158.svg"},"104f":function(t,e,s){"use strict";var a=s("0699"),n=s.n(a);n.a},"251b":function(t,e,s){},"3b97":function(t,e,s){"use strict";var a=s("251b"),n=s.n(a);n.a},4678:function(t,e,s){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(t){var e=i(t);return s(e)}function i(t){var e=a[t];if(!(e+1)){var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}return e}n.keys=function(){return Object.keys(a)},n.resolve=i,t.exports=n,n.id="4678"},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("f751"),s("097d");var a=s("2b0e"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("transition",{attrs:{appear:"",name:"header"}},[s("app-header")],1),s("main",[s("transition",{attrs:{name:"main",mode:"out-in",appear:""}},[s("router-view")],1)],1),s("app-footer")],1)},i=[],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",{attrs:{id:"header"}},[s("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[s("router-link",{staticClass:"navbar-brand text-primary mb-0 h1",attrs:{to:"/"}},[t._v("ANSWER ME")]),t._m(0),s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[s("ul",{staticClass:"navbar-nav mr-auto"},[s("li",{class:"nav-item "+("/"==t.route?"active":"")},[s("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[s("i",{staticClass:"fas fa-home"}),t._v("\n                        Главная\n                        "),s("span",{staticClass:"sr-only"},[t._v("(current)")])])],1),t.user?t._l(t.nav,function(e,a,n){return s("li",{key:n,class:"nav-item "+(t.route==e.path?"active":"")},[s("router-link",{staticClass:"nav-link",attrs:{to:e.path}},[s("i",{class:e.icon}),t._v("\n                            "+t._s(e.title)+"\n                            "),s("span",{staticClass:"sr-only"},[t._v("(current)")])])],1)}):t._e()],2),s("div",{staticClass:"navigation-buttons"},[t.user?s("button",{staticClass:"btn btn-link text-danger my-3 my-sm-0",attrs:{"data-toggle":"modal","data-target":"#logout-modal"}},[t._v("\n                    Выйти\n                ")]):t._e(),t.user?t._e():s("router-link",{class:"btn btn-outline-primary my-2 my-sm-0",attrs:{tag:"button",to:"/login"}},[t._v("Вход")]),t.user?t._e():s("router-link",{class:"btn btn-outline-success my-3 my-sm-0",attrs:{tag:"button",to:"/registration"}},[t._v("Регистрация")])],1)])],1),s("modal-confirm",{attrs:{"modal-name":"logout"},on:{confirm:function(e){return t.logout()}},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n            Выход из учетной записи\n        ")]},proxy:!0},{key:"modal-body",fn:function(){return[t._v("\n            Подтвердите выход из учетной записи\n        ")]},proxy:!0}])})],1)},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[s("span",{staticClass:"navbar-toggler-icon"})])}],l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal fade",attrs:{id:t.modalName+"-modal",tabindex:"-1",role:"dialog","aria-labelledby":t.modalName+"-modal-label","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header bg-light"},[s("h5",{staticClass:"modal-title text-primary",attrs:{id:t.modalName+"-modal-label"}},[t._t("modal-title")],2),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(e){return t.close()}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),s("div",{staticClass:"modal-body"},[t._t("modal-body")],2),s("div",{staticClass:"modal-footer bg-light"},[s("button",{staticClass:"btn btn-link text-danger",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.cancel()}}},[t._v("\n                    Отмена\n                ")]),s("button",{staticClass:"btn btn-success",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.confirm()}}},[t._v("\n                    Подтведить\n                ")])])])])])},c=[],u={name:"Confirm",props:{modalName:String},methods:{confirm:function(){this.$emit("confirm")},cancel:function(){this.$emit("cansel")},close:function(){this.$emit("close")}}},d=u,p=s("2877"),f=Object(p["a"])(d,l,c,!1,null,null,null),m=f.exports,v={name:"Header",components:{"modal-confirm":m},data:function(){return{nav:{newPoll:{title:"Новый опрос",icon:"fas fa-plus-square",path:"/newpoll"},myPools:{title:"Мои опросы",icon:"fas fa-list-alt",path:"/mypolls"},profile:{title:"Личный кабинет",icon:"fas fa-id-card",path:"/profile"}}}},computed:{user:function(){return this.$store.getters.user},route:function(){return this.$route.path}},methods:{logout:function(){this.$store.dispatch("logout")}}},h=v,b=(s("8baf"),Object(p["a"])(h,r,o,!1,null,null,null)),g=b.exports,y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer")},_=[],C={},w=Object(p["a"])(C,y,_,!1,null,null,null),k=w.exports,j={components:{"app-header":g,"app-footer":k}},x=j,q=(s("034f"),Object(p["a"])(x,n,i,!1,null,null,null)),E=q.exports,$=s("8c4f"),P=s("59ca"),N=s.n(P),A=(s("ea7b"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"promo container"},[s("div",{staticClass:"row align-items-center"},[s("div",{staticClass:"col-md-6 text-center text-md-left pr-md-5"},[s("h1",{staticClass:"promo-title mb-3 text-primary"},[t._v("Answer me")]),s("p",[t._v("Простой сервис для быстрого создания онлайн опросов.")]),s("button",{staticClass:"btn btn-lg btn-primary",attrs:{type:"button"},on:{click:function(e){return t.go()}}},[t._v("\n                Создать опрос\n            ")])]),t._m(0)])])}),O=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"promo-image col-md-6 text-center text-md-center"},[a("img",{attrs:{src:s("0e77"),alt:""}})])}],B={methods:{go:function(){this.$router.push("/newpoll")}}},L=B,z=(s("cccb"),Object(p["a"])(L,A,O,!1,null,null,null)),S=z.exports,M=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[t.isPublic?s("div",{attrs:{role:"alert"}},[s("div",{staticClass:"alert alert-primary well",attrs:{role:"alert"}},[s("h4",{staticClass:"alert-heading"},[t._v("Опрос опубликован")]),s("p",[t._v("\n                Вы можете просмотреть его в\n                "),s("router-link",{attrs:{to:"/mypolls"}},[s("strong",[t._v("Моих опросах")]),t._v(",")]),t._v("\n                поделиться ссылкой или создать\n                "),s("strong",{staticClass:"newPollLink",on:{click:function(e){t.isPublic=!1}}},[t._m(0)])],1),s("hr"),s("div",{staticClass:"input-group mb-3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.pollLink,expression:"pollLink"}],staticClass:"form-control",attrs:{id:"pollLink",type:"text",placeholder:t.pollLink,readonly:""},domProps:{value:t.pollLink},on:{input:function(e){e.target.composing||(t.pollLink=e.target.value)}}}),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:function(e){return t.copy()}}},[t._v("Скопировать")])])])])]):s("div",{staticClass:"constructor"},[t._m(1),s("div",{staticClass:"constructor-body"},[s("div",{staticClass:"newpoll"},[s("div",{staticClass:"newpoll-head"},[s("div",{staticClass:"newpoll-head-titles"},[s("div",{staticClass:"form-group row newpoll-title"},[s("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"newpoll-title"}},[t._v("Заголовок:")]),s("div",{staticClass:"col-sm-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.poll.title,expression:"poll.title"}],staticClass:"form-control",attrs:{type:"text",id:"newpoll-title",placeholder:"Заголовок вашего опроса"},domProps:{value:t.poll.title},on:{input:function(e){e.target.composing||t.$set(t.poll,"title",e.target.value)}}})])]),s("div",{staticClass:"form-group row newpoll-description"},[s("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"newpoll-description"}},[t._v("Описание:")]),s("div",{staticClass:"col-sm-10"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.poll.description,expression:"poll.description"}],staticClass:"form-control",attrs:{type:"text",id:"newpoll-description",placeholder:"Описание вашего опроса"},domProps:{value:t.poll.description},on:{input:function(e){e.target.composing||t.$set(t.poll,"description",e.target.value)}}})])])])]),s("div",{staticClass:"newpoll-nav"},[t._m(2),s("label",{staticClass:"col-form-label add-label",attrs:{for:"add"}},[t._v("Добавить вопрос")]),s("div",{staticClass:"collapse",attrs:{id:"newpoll-nav-buttons"}},[s("div",{staticClass:"newpoll-nav-buttons-wraper"},[s("button",{staticClass:"btn btn-link",attrs:{type:"button","data-toggle":"collapse","data-target":"#newpoll-nav-buttons","aria-expanded":"false","aria-controls":"collapseExample"},on:{click:function(e){return t.addQuestion("oneof",t.count)}}},[t._v("\n                                Один вариант ответа\n                            ")]),s("button",{staticClass:"btn btn-link",attrs:{type:"button",disabled:""},on:{click:function(e){return t.addQuestion("fewof",t.count)}}},[s("i",[t._v("in progress..")])])])])]),s("div",{staticClass:"newpoll-body"},[s("transition-group",{attrs:{name:"list",tag:"div"}},t._l(t.poll.questions,function(e,a){return s("div",{key:"pollitem-div-"+e.id},["fewof"===e.type?s("fewof",{key:"pollitem"+e.id,attrs:{prop:e},on:{"delete-question":function(e){return t.delQuestion(a)}}}):t._e(),"oneof"===e.type?s("oneof",{key:"pollitem"+e.id,attrs:{prop:t.poll.questions[a]},on:{"delete-question":function(e){return t.delQuestion(a)}}}):t._e()],1)}),0)],1),s("div",{staticClass:"newpoll-footer"},[t.warning?s("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v("\n                        "+t._s(t.warningMessage)+"\n                    ")]):t._e()])])]),s("transition",{attrs:{name:"fade"}}),s("div",{staticClass:"constructor-footer"},[s("div",{staticClass:"constructor-footer-buttons"},[s("button",{staticClass:"btn btn-link text-danger",on:{click:function(e){return t.clearPoll()}}},[t._v("\n                    Очистить\n                ")]),s("button",{staticClass:"btn btn-primary",attrs:{disabled:!t.isBtnActive},on:{click:function(e){return t.publication()}}},[t._v("\n                    Опубликовать\n                ")])])])],1)])},V=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"text-primary"},[s("strong",[t._v("новый опроc")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"constructor-head"},[s("h3",{staticClass:"constructor-title text-primary"},[t._v("Конструктор опроса")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"btn btn-link align-baseline text-primary",attrs:{id:"add",type:"button","data-toggle":"collapse","data-target":"#newpoll-nav-buttons","aria-expanded":"false","aria-controls":"collapse"}},[s("i",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}})])}],D=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"newpoll-item"},[s("button",{staticClass:"btn btn-link text-danger del-item-btn",attrs:{type:"button"},on:{click:function(e){return t.delQuestion()}}},[s("i",{staticClass:"fas fa-times-circle"})]),s("div",{staticClass:"form-group row newpoll-item-title"},[s("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"newpoll-item-title"}},[t._v("Вопрос:")]),s("div",{staticClass:"newpoll-item-title-input col-sm-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.question.title,expression:"question.title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"ваш вопрос"},domProps:{value:t.question.title},on:{input:function(e){e.target.composing||t.$set(t.question,"title",e.target.value)}}})])]),s("fieldset",{staticClass:"form-group"},[s("div",{staticClass:"row"},[s("legend",{staticClass:"col-form-label col-form-label-pd col-sm-2 pt-0"},[t._v("\n                Ответы:\n            ")]),s("div",{staticClass:"col-sm-10"},[t._l(t.question.variants,function(e,a){return s("div",{key:"variant"+t.question.key+a,staticClass:"custom-control custom-checkbox"},[s("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"variant"+t.question.key+a,name:"checkbox-"+t.question.key}}),s("label",{staticClass:"custom-control-label col",attrs:{for:"variant"+t.question.key+a}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.question.variants[a],expression:"question.variants[index]"}],staticClass:"form-control form-control-mr",attrs:{type:"text",placeholder:"вариант ответа"},domProps:{value:t.question.variants[a]},on:{input:function(e){e.target.composing||t.$set(t.question.variants,a,e.target.value)}}})]),s("button",{staticClass:"btn btn-link text-danger del-variant-btn",attrs:{type:"button"},on:{click:function(e){return t.delVariant(a)}}},[s("i",{staticClass:"fas fa-times"})])])}),s("div",{staticClass:"add-variant"},[s("button",{staticClass:"btn btn-link align-baseline text-primary",attrs:{id:"add-variant"+t.question.key},on:{click:function(e){return t.addVariant()}}},[s("i",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}})]),s("label",{staticClass:"col-form-label add-label",attrs:{for:"add-variant"+t.question.key}},[t._v("добавить вариант")])])],2)])])])},U=[],I={name:"fewof",props:["prop"],beforeMount:function(){this.question=this.prop},data:function(){return{question:null}},methods:{addVariant:function(){this.question.addVariant("")},delVariant:function(t){this.question.delVariant(t)},delQuestion:function(){this.$emit("delete-question",this.question.id)}}},Q=I,G=(s("c6b4"),Object(p["a"])(Q,D,U,!1,null,"395b32d8",null)),W=G.exports,R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"newpoll-item"},[s("button",{staticClass:"btn btn-link text-danger del-item-btn",attrs:{type:"button"},on:{click:function(e){return t.delQuestion()}}},[s("i",{staticClass:"fas fa-times-circle"})]),s("div",{staticClass:"form-group row newpoll-item-title"},[s("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"newpoll-item-title"}},[t._v("Вопрос:")]),s("div",{staticClass:"newpoll-item-title-input col-sm-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.question.title,expression:"question.title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"ваш вопрос"},domProps:{value:t.question.title},on:{input:function(e){e.target.composing||t.$set(t.question,"title",e.target.value)}}})])]),s("fieldset",{staticClass:"form-group"},[s("div",{staticClass:"row"},[s("legend",{staticClass:"col-form-label col-form-label-pd col-sm-2 pt-0"},[t._v("\n                Ответы:\n            ")]),s("div",{staticClass:"col-sm-10"},[t._l(t.question.variants,function(e,a){return s("div",{key:"variant"+t.question.key+a,staticClass:"custom-control custom-radio"},[s("input",{staticClass:"custom-control-input",attrs:{type:"radio",id:"variant"+t.question.key+a,name:"radio-"+t.question.key}}),s("label",{staticClass:"custom-control-label col",attrs:{for:"variant"+t.question.key+a}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.question.variants[a],expression:"question.variants[index]"}],staticClass:"form-control form-control-mr",attrs:{type:"text",placeholder:"вариант ответа"},domProps:{value:t.question.variants[a]},on:{input:function(e){e.target.composing||t.$set(t.question.variants,a,e.target.value)}}})]),s("button",{staticClass:"btn btn-link text-danger del-variant-btn",attrs:{type:"button"},on:{click:function(e){return t.delVariant(a)}}},[s("i",{staticClass:"fas fa-times"})])])}),s("div",{staticClass:"add-variant"},[s("button",{staticClass:"btn btn-link align-baseline text-primary",attrs:{id:"add-variant"+t.question.key},on:{click:function(e){return t.addVariant()}}},[s("i",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}})]),s("label",{staticClass:"col-form-label add-label",attrs:{for:"add-variant"+t.question.key}},[t._v("добавить вариант")])])],2)])])])},T=[],F={name:"fewof",props:["prop"],beforeMount:function(){this.question=this.prop},data:function(){return{question:null}},methods:{addVariant:function(){this.question.addVariant("")},delVariant:function(t){this.question.delVariant(t)},delQuestion:function(){this.$emit("delete-question",this.question.id)}}},Z=F,H=(s("104f"),Object(p["a"])(Z,R,T,!1,null,"e687cd30",null)),J=H.exports,K=s("d225"),Y=s("b0b4"),X=function(){function t(e){for(var s in Object(K["a"])(this,t),this.id=null,this.title="",this.type="",this.variants=[""],e)this[s]=e[s]}return Object(Y["a"])(t,[{key:"data",value:function(){return{id:this.id,title:this.title,type:this.type,variants:this.variants}}},{key:"addType",value:function(t){this.type=t}},{key:"addVariant",value:function(t){this.variants.push(t)}},{key:"delVariant",value:function(t){this.variants.splice(t,1)}},{key:"variantsSum",get:function(){return this.variants.length}}]),t}(),tt=function(){function t(e){for(var s in Object(K["a"])(this,t),this.author=null,this.title=null,this.description=null,this.date=null,this.questions=[],this.answers=[],this.end=!1,e)if("questions"!==s)this[s]=e[s];else for(var a in e.questions)this.questions.push(new X(e.questions[a]))}return Object(Y["a"])(t,[{key:"addQuestion",value:function(t){this.questions.push(new X(t))}},{key:"delQuestion",value:function(t){this.questions.splice(t,1)}},{key:"data",value:function(){var t=this.questions;return{author:this.author,title:this.title,description:this.description,date:this.date,answers:this.answers,end:this.end,get questions(){var e=[];for(var s in t)e.push(t[s].data());return e}}}},{key:"questionsSum",get:function(){return this.questions.length}},{key:"answersSum",get:function(){return this.answers.length}}]),t}(),et=(s("e71f"),{name:"NewPoll",components:{fewof:W,oneof:J},data:function(){return{count:0,poll:new tt,warning:!1,warningMessage:"",isBtnActive:!0,isPublic:!1,id:""}},computed:{user:function(){return this.$store.getters.user},pollLink:function(){return"https://stenzelpunch.github.io/answer_me/#/poll/"+this.id}},methods:{delQuestion:function(t){this.poll.delQuestion(t)},addQuestion:function(t){this.poll.addQuestion({id:this.count,type:t}),this.count++},clearPoll:function(){this.poll=new tt},toggleWarning:function(t,e){this.warning=t,this.warningMessage=e},publication:function(){var t=this;if(this.isBtnActive=!1,this.isEmptyInput()){var e=N.a.firestore().collection("polls");this.poll.date=new Date,this.poll.author=this.user,e.add(this.poll.data()).then(function(e){t.id=e.id,N.a.firestore().collection("users").doc("".concat(t.user)).update({polls:N.a.firestore.FieldValue.arrayUnion("".concat(e.id))}),t.clearPoll(),t.showPublicationAlert(),t.isBtnActive=!0}),this.clearPoll(),this.showPublicationAlert(),this.isBtnActive=!0}else this.isBtnActive=!0},isEmptyInput:function(){var t=this.poll.title,e=this.poll.questions;if(t&&""!==t.trim()){if(e.length){for(var s in e){if(!e[s].title)return this.toggleWarning(!0,"Не оставляейте вопросы пустыми"),!1;if(!e[s].variants.length)return this.toggleWarning(!0,"Остались вопросы без вариантов ответа"),!1;for(var a in e[s].variants)if(""===e[s].variants[a].trim())return this.toggleWarning(!0,"Остались пустые варианты ответа"),!1}return this.toggleWarning(!1,""),!0}return this.toggleWarning(!0,"Добавьте хотя бы один вопрос"),!1}return this.toggleWarning(!0,"Не оставляете заголовок пустым"),!1},showPublicationAlert:function(){this.isPublic=!0},copy:function(){var t=document.getElementById("pollLink");t.select(),document.execCommand("copy")}}}),st=et,at=(s("0528"),Object(p["a"])(st,M,V,!1,null,null,null)),nt=at.exports,it=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"mypolls-header d-flex align-items-center"},[s("div",{staticClass:"mypolls-number mr-auto align-baseline"},[t._v("\n            Количество опросов: "),s("span",{staticClass:"text-primary"},[t._v(t._s(t.pollsNumber))])]),s("div",{staticClass:"dropdown align-baseline"},[s("button",{staticClass:"btn btn-link dropdown-toggle align-baseline",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n                Сортировка\n            ")]),s("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},t._l(t.sortBtns,function(e,a){return s("p",{key:a,class:"dropdown-item "+(e.criterion===t.sortCriterion?"active":""),on:{click:function(s){return t.pollSort(e.criterion)}}},[t._v("\n                    "+t._s(e.title)+"\n                ")])}),0)])]),s("div",{staticClass:"mypolls-body row"},t._l(t.polls,function(e,a){return s("div",{key:a,class:"mypolls-item-wraper col-md-6"},[s("div",{class:"mypolls-item "+t.endClass(a)},[s("div",{staticClass:"mypolls-item-header d-flex align-items-center"},[s("p",{staticClass:"h5 mr-auto"},[s("router-link",{attrs:{to:"/statistics/"+e.id}},[t._v(t._s(e.title))])],1),t._m(0,!0),s("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdown-actions"}},[t.isEnd(a)?s("button",{staticClass:"dropdown-item btn btn-link text-success",attrs:{"data-toggle":"modal","data-target":"#resume-poll-modal"},on:{click:function(e){return t.writeBufer(a)}}},[t._v("\n                            Возобновить\n                        ")]):t._e(),t.isEnd(a)?t._e():s("button",{staticClass:"dropdown-item btn btn-link text-warning",attrs:{"data-toggle":"modal","data-target":"#end-poll-modal"},on:{click:function(e){return t.writeBufer(a)}}},[t._v("\n                            Остановить\n                        ")]),s("button",{staticClass:"dropdown-item btn btn-link text-danger",attrs:{"data-toggle":"modal","data-target":"#delete-poll-modal"},on:{click:function(e){return t.writeBufer(a)}}},[t._v("\n                            Удалить\n                        ")])])]),s("div",[s("p",[s("span",{staticClass:"text-secondary"},[t._v("Ответов:")]),t._v(" "+t._s(e.answers.length))]),s("p",[s("span",{staticClass:"text-secondary"},[t._v("Дата создания:")]),t._v(" "+t._s(t.date(e.date)))]),s("p",[s("a",{staticClass:"text-info",attrs:{"data-toggle":"collapse",href:"#poll-link-collapse-"+a,role:"button","aria-expanded":"false","aria-controls":"collapseExample"}},[s("i",{staticClass:"fas fa-link"}),t._v(" Ссылка на опрос\n                        ")])])]),s("div",{staticClass:"collapse",attrs:{id:"poll-link-collapse-"+a}},[s("div",{staticClass:"input-group input-group-sm mb-3"},[s("input",{staticClass:"form-control visually-hidden",attrs:{id:"pollLink-"+a,type:"text",placeholder:t.pollLink,readonly:""},domProps:{value:t.pollLink(a)}}),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button","data-toggle":"collapse","data-target":"#poll-link-collapse-"+a,"aria-expanded":"false","aria-controls":"poll-link-collapse-"+a},on:{click:function(e){return t.copy(a)}}},[t._v("\n                                Скопировать\n                            ")])])])]),t.isEnd(a)?s("span",{staticClass:"badge badge-secondary"},[t._v("Остановлен")]):t._e()])])}),0),s("modal-confirm",{attrs:{"modal-name":"delete-poll"},on:{confirm:function(e){t.deletePoll(t.bufferIndex),t.writeBufer("")},cansel:function(e){return t.writeBufer("")},close:function(e){return t.writeBufer("")}},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n            Удаление опроса\n        ")]},proxy:!0},{key:"modal-body",fn:function(){return[t._v("\n            После удаления статистика этого опроса будет недоступна. Чтобы не терять статистику, рекомендуется\n            "),s("strong",[t._v("завершить")]),t._v(" опрос.\n        ")]},proxy:!0}])}),s("modal-confirm",{attrs:{"modal-name":"end-poll"},on:{confirm:function(e){t.endPoll(t.bufferIndex),t.writeBufer("")},cansel:function(e){return t.writeBufer("")},close:function(e){return t.writeBufer("")}},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n            Завершение опроса\n        ")]},proxy:!0},{key:"modal-body",fn:function(){return[t._v("\n            После завершения статистика этого опроса сохранится, но новых ответов поступать не будет. Вы можете\n            возобновить опрос в дальнейшем.\n        ")]},proxy:!0}])}),s("modal-confirm",{attrs:{"modal-name":"resume-poll"},on:{confirm:function(e){t.resumePoll(t.bufferIndex),t.writeBufer("")},cansel:function(e){return t.writeBufer("")},close:function(e){return t.writeBufer("")}},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n            Возобновление опроса\n        ")]},proxy:!0},{key:"modal-body",fn:function(){return[t._v("\n            После возобновления, пользователи снова смогут давать ответы.\n        ")]},proxy:!0}])})],1)},rt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"btn btn-link text-info align-baseline",attrs:{type:"button",id:"dropdown-actions","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[s("i",{staticClass:"fas fa-ellipsis-h"})])}],ot=s("5d73"),lt=s.n(ot),ct=(s("55dd"),{name:"MyPolls",components:{"modal-confirm":m},data:function(){return{polls:[],bufferIndex:"",db:N.a.firestore().collection("polls"),sortBtns:[{title:"Дата",criterion:"date"},{title:"Ответы",criterion:"answers"}],sortCriterion:"date"}},computed:{pollsNumber:function(){return this.polls.length}},methods:{date:function(t){var e=new Date(1e3*t.seconds),s=e.getUTCMonth()+1,a=e.getUTCDate(),n=e.getUTCFullYear();return a=a<10?"0"+a:a,s=s<10?"0"+s:s,a+"."+s+"."+n},isEnd:function(t){return this.polls[t].end},endClass:function(t){return this.polls[t].end?"end":""},writeBufer:function(t){this.bufferIndex=t},deletePoll:function(t){this.polls.splice(t,1),this.db.doc(this.polls[t].id).delete()},pollLink:function(t){return"https://stenzelpunch.github.io/answer_me/#/poll/"+this.polls[t].id},copy:function(t){var e=document.getElementById("pollLink-"+t);e.select(),document.execCommand("copy")},endPoll:function(t){this.polls[t].end=!0,this.db.doc(this.polls[t].id).update({end:!0})},resumePoll:function(t){this.polls[t].end=!1,this.db.doc(this.polls[t].id).update({end:!1})},pollSort:function(t){this.sortCriterion=t,this.polls.sort(function(e,s){return e[t]>s[t]?-1:e[t]<s[t]?1:0})}},beforeMount:function(){var t=this,e=this.$store.getters.user;this.db.where("author","==",e).get().then(function(e){var s=e.docs,a=!0,n=!1,i=void 0;try{for(var r,o=lt()(s);!(a=(r=o.next()).done);a=!0){var l=r.value,c=new tt(l.data());c.id=l.id,t.polls.push(c)}}catch(u){n=!0,i=u}finally{try{a||null==o.return||o.return()}finally{if(n)throw i}}t.pollSort(t.sortCriterion)})}}),ut=ct,dt=(s("3b97"),Object(p["a"])(ut,it,rt,!1,null,"68540d09",null)),pt=dt.exports,ft=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container"},[s("div",{staticClass:"profile-title"},[s("h3",[t._v(t._s(t.user.email))])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"section"},[s("h5",{staticClass:"text-primary"},[t._v("Информация о Вас")]),s("ul",{staticClass:"user-list"},[s("li",{staticClass:"list-item text-info"},[t._v("\n                            Имя: "),s("span",{staticClass:"list-item--value text-dark"},[t._v(t._s(t.user.firstName))])]),s("li",{staticClass:"list-item text-info"},[t._v("\n                            Фамилия: "),s("span",{staticClass:"list-item--value text-dark"},[t._v(t._s(t.user.lastName))])]),s("li",{staticClass:"list-item text-info"},[t._v("\n                            Email: "),s("span",{staticClass:"list-item--value text-dark"},[t._v(t._s(t.user.email))])])])])]),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"section"},[s("h5",{staticClass:"text-primary"},[t._v("Краткая статистика:")]),t._v("\n                    Всего опросов: "),s("span",{staticClass:"text-primary"},[t._v(t._s(t.pollCreated))]),s("br"),t._v("\n                    Всего ответов: "),s("span",{staticClass:"text-primary"},[t._v(t._s(t.pollCompleted))]),s("br")])])])])])},mt=[],vt={name:"Profile",data:function(){return{polls:[],db:N.a.firestore().collection("polls")}},computed:{user:function(){return this.$store.getters.profile},pollCreated:function(){return this.polls.length},pollCompleted:function(){var t=0,e=!0,s=!1,a=void 0;try{for(var n,i=lt()(this.polls);!(e=(n=i.next()).done);e=!0){var r=n.value;r.answers.length&&(t+=r.answers.length)}}catch(o){s=!0,a=o}finally{try{e||null==i.return||i.return()}finally{if(s)throw a}}return t}},beforeMount:function(){var t=this,e=this.$store.getters.user;this.db.where("author","==",e).get().then(function(e){var s=e.docs,a=!0,n=!1,i=void 0;try{for(var r,o=lt()(s);!(a=(r=o.next()).done);a=!0){var l=r.value,c=new tt(l.data());c.id=l.id,t.polls.push(c)}}catch(u){n=!0,i=u}finally{try{a||null==o.return||o.return()}finally{if(n)throw i}}})}},ht=vt,bt=(s("5a36"),Object(p["a"])(ht,ft,mt,!1,null,"2d9ea37c",null)),gt=bt.exports,yt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container reg-form"},[s("h3",{staticClass:"text-primary registration-title"},[t._v("Регистрация")]),t._l(t.formData,function(e,a,n){return s("div",{key:n,staticClass:"form-group"},[s("label",{attrs:{for:e.id}},[t._v(t._s(e.title))]),"checkbox"===e.type?s("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"item.value"}],class:e.class,attrs:{id:e.id,placeholder:e.placeholder,required:"",type:"checkbox"},domProps:{checked:Array.isArray(e.value)?t._i(e.value,null)>-1:e.value},on:{input:function(t){return e.validate()},change:function(s){var a=e.value,n=s.target,i=!!n.checked;if(Array.isArray(a)){var r=null,o=t._i(a,r);n.checked?o<0&&t.$set(e,"value",a.concat([r])):o>-1&&t.$set(e,"value",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(e,"value",i)}}}):"radio"===e.type?s("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"item.value"}],class:e.class,attrs:{id:e.id,placeholder:e.placeholder,required:"",type:"radio"},domProps:{checked:t._q(e.value,null)},on:{input:function(t){return e.validate()},change:function(s){return t.$set(e,"value",null)}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"item.value"}],class:e.class,attrs:{id:e.id,placeholder:e.placeholder,required:"",type:e.type},domProps:{value:e.value},on:{input:[function(s){s.target.composing||t.$set(e,"value",s.target.value)},function(t){return e.validate()}]}}),s("div",{staticClass:"valid-feedback"},[t._v("\n            Looks good!\n        ")]),s("div",{staticClass:"invalid-feedback"},[t._v("\n            "+t._s(e.invalidFeedback)+"\n        ")])])}),t.error?s("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v("\n        "+t._s(t.error)+"\n    ")]):t._e(),s("small",{staticClass:"text-muted mr-auto"},[t._v("\n        Уже есть аккаунт?\n        "),s("router-link",{attrs:{to:"/login"}},[t._v(" Войдите")])],1),s("button",{staticClass:"btn btn-primary registration-btn",attrs:{type:"submit",disabled:!t.isActiveBtn},on:{click:function(e){return t.submit(e)}}},[t._v("\n        Зарегистрироваться\n    ")])],2)},_t=[],Ct=(s("3b2b"),function(){function t(e,s,a,n,i,r,o,l){Object(K["a"])(this,t),this.value=e,this.title=s,this.type=a,this.class={"form-control":!0,"is-invalid":!1,"is-valid":!1},this.id=n,this.placeholder=i,this.isValid=r,this.invalidFeedback=o,this.pattern=new RegExp(l)}return Object(Y["a"])(t,[{key:"validate",value:function(){var t=this.pattern.test(this.value);t?(this.isValid=!0,this.class["is-valid"]=!0,this.class["is-invalid"]=!1):t||(this.isValid=!1,this.class["is-valid"]=!1,this.class["is-invalid"]=!0)}}]),t}()),wt={firstName:new Ct(null,"Имя","text","first-name","Введите имя",!1,"Введите имя на русском или украинском языке",/^[А-Яа-яёЁЇїІіЄєҐґ]{2,100}/),lastName:new Ct(null,"Фамилия","text","last-name","Введите фамилию",!1,"Введите фамилию на русском или украинском языке",/^[А-Яа-яёЁЇїІіЄєҐґ]{2,100}/),email:new Ct(null,"Адрес электронной почты","email","reg-email","example@mail.com",!1,"Введите существующий адрес электорнной почты",/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),password:new Ct(null,"Пароль","password","reg-password","Введите пароль",!1,"Пароль должен быть длинее 5 символов и не содержать специальных символов",/[0-9a-zA-Z]{6,30}/)},kt={name:"Registration",data:function(){return{formData:wt}},computed:{user:function(){return this.$store.getters.user},error:function(){return this.$store.getters.regError},isActiveBtn:function(){var t=0;for(var e in this.formData)this.formData[e].isValid&&t++;return 4===t}},methods:{submit:function(t){t.preventDefault();var e={email:this.formData.email.value,password:this.formData.password.value,firstName:this.formData.firstName.value,lastName:this.formData.lastName.value};this.$store.dispatch("registration",e)}}},jt=kt,xt=(s("6963"),Object(p["a"])(jt,yt,_t,!1,null,"2eda8674",null)),qt=xt.exports,Et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("h3",{staticClass:"text-primary login-title"},[t._v("Войти")]),s("form",[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"login-email"}},[t._v("Адрес электронной почты")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"login-email","aria-describedby":"emailHelp",placeholder:"Введите адрес электронной почты"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"password"}},[t._v("Пароль")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"Введите пароль"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t.error?s("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v("\n            "+t._s(t.error)+"\n        ")]):t._e(),s("small",{staticClass:"text-muted mr-auto"},[t._v("\n            Нет аккаунта?\n            "),s("router-link",{attrs:{to:"/registration"}},[t._v(" Зарегестрируйтесь")])],1),s("button",{staticClass:"btn btn-primary login-btn",attrs:{type:"submit",disabled:!t.isBtnActive},on:{click:function(e){return t.login(t.email,t.password)}}},[t._v("\n            Войти\n        ")])])])},$t=[],Pt={name:"Login",data:function(){return{email:null,password:null}},computed:{error:function(){return this.$store.getters.loginError},user:function(){return this.$store.getters.user},isBtnActive:function(){return!(!this.email||!this.password)}},methods:{login:function(t,e){event.preventDefault(),this.$store.dispatch("login",{email:t,password:e})}}},Nt=Pt,At=(s("96bd"),Object(p["a"])(Nt,Et,$t,!1,null,"6478b953",null)),Ot=At.exports,Bt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container",attrs:{id:"poll-view"}},[s("transition",{attrs:{name:"fade",mode:"out-in"}},["Not found"===t.status?s("app-alert",{attrs:{type:"secondary"}},[t._v("\n            Опрос не найден\n        ")]):"Completed"===t.status?s("app-alert",{attrs:{type:"success"}},[t._v("\n            Опрос успешно пройден. Спасибо за участие.\n        ")]):"Completed before"===t.status?s("app-alert",{attrs:{type:"warning"}},[t._v("\n            Опрос был пройден вами ранее.\n        ")]):"End"===t.status?s("app-alert",{attrs:{type:"secondary"}},[t._v("\n            Опрос был завершен.\n        ")]):"Loading"===t.status?s("app-loading"):"Loaded"===t.status?s("form",{key:"Loaded",staticClass:"poll",on:{submit:function(e){return t.submit(e)}}},[s("div",{staticClass:"poll-head"},[s("h4",[t._v(t._s(t.data.title))]),s("p",[t._v(t._s(t.data.description))])]),t._l(t.data.questions,function(e,a){return s("div",{key:a,staticClass:"poll-question"},[s("h5",[t._v(t._s(e.title))]),t._l(e.variants,function(n,i){return s("div",{key:i,class:"custom-control custom-"+t.type(e.type)},[s("input",{staticClass:"custom-control-input",attrs:{type:t.type(e.type),id:t.type(e.type)+"-"+a+"-"+i,name:"-group-"+a},on:{input:function(e){return t.select(a,i,e)}}}),s("label",{staticClass:"custom-control-label",attrs:{for:t.type(e.type)+"-"+a+"-"+i}},[t._v(t._s(n))])])})],2)}),s("div",{staticClass:"poll-footer"},[t.showError?s("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v("\n                    Необходимо ответить на все вопросы!\n                ")]):t._e(),s("button",{staticClass:"btn btn-primary btn-reply",attrs:{type:"submit"}},[t._v("\n                    Ответить\n                ")])])],2):t._e()],1)],1)},Lt=[],zt=s("a4bb"),St=s.n(zt),Mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"404"}},[s("div",{key:"Not-found",class:"alert alert-"+t.type,attrs:{role:"alert"}},[s("h3",[t._t("default")],2),s("hr"),s("router-link",{staticClass:"alert-link",attrs:{to:"/"}},[s("i",{staticClass:"fas fa-arrow-left"}),t._v(" На главную")])],1)])},Vt=[],Dt={name:"NotFound",props:["type"],data:function(){return{}}},Ut=Dt,It=(s("6718"),Object(p["a"])(Ut,Mt,Vt,!1,null,"da8511dc",null)),Qt=It.exports,Gt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Wt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"loading"},[s("div",{staticClass:"spinner-border text-primary",attrs:{role:"status"}},[s("span",{staticClass:"sr-only"},[t._v("Loading...")])])])}],Rt={name:"Loading",data:function(){return{}}},Tt=Rt,Ft=(s("0c69"),Object(p["a"])(Tt,Gt,Wt,!1,null,"4c4f6b8a",null)),Zt=Ft.exports,Ht={name:"poll-view",components:{"app-alert":Qt,"app-loading":Zt},data:function(){return{data:null,answers:{},showError:!1,completed:!1,completedBefore:!1}},computed:{status:function(){return null===this.data?"Loading":void 0===this.data?"Not found":!0===this.data.end?"End":this.completed?"Completed":this.completedBefore?"Completed before":"Loaded"}},methods:{type:function(t){return"fewof"===t?"checkbox":"oneof"===t?"radio":void 0},select:function(t,e){this.answers[t]=e},check:function(){return St()(this.answers).length===this.data.questions.length},submit:function(t){if(t.preventDefault(),this.check()){var e={u:this.$store.getters.user,d:new Date,values:this.answers};N.a.firestore().collection("polls").doc(this.$route.params["poll_id"]).update({answers:N.a.firestore.FieldValue.arrayUnion(e)}),this.completed=!0}else this.showError=!0}},beforeMount:function(){var t=this,e=this.$route.params["poll_id"];N.a.firestore().collection("polls").doc(e).get().then(function(e){if(e.data()){for(var s in e.data().answers)t.$store.getters.user===e.data().answers[s].u&&(t.completedBefore=!0);t.data=new tt(e.data())}else t.data=void 0})}},Jt=Ht,Kt=(s("cb09"),Object(p["a"])(Jt,Bt,Lt,!1,null,"37d990ae",null)),Yt=Kt.exports,Xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container",attrs:{id:"statistics"}},["Loading"===t.status?s("app-loading"):t._e(),"Not found"===t.status?s("app-alert",{attrs:{type:"secondary"}},[t._v("\n        Опрос не найден\n    ")]):t._e(),"No access"===t.status?s("app-alert",{attrs:{type:"warning"}},[t._v("\n        Нет доступа\n    ")]):"Loaded"===t.status?s("div",{staticClass:"questions"},[s("div",{staticClass:"statistic-header mr-auto align-baseline"},[t._v("\n            Ответов всего: "),s("span",{staticClass:"text-primary"},[t._v(t._s(t.data.answers.length))])]),t._l(t.data.questions,function(e,a){return s("div",{key:a,staticClass:"question"},[s("h4",[s("span",{staticClass:"question-number"},[t._v(t._s(a+1)+".")]),t._v(" "+t._s(e.title)+"\n            ")]),s("div",[s("chart-view",{attrs:{variants:e.variants,answers:t.statistics[a],index:a}})],1)])})],2):t._e()],1)},te=[],ee=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-6"},[s("canvas",{staticClass:"chart",attrs:{id:"chart-"+t.index}})]),s("div",{staticClass:"col-lg-6"},[s("table",{staticClass:"table table-borderless table-sm"},[t._m(0),s("tbody",t._l(t.variants,function(e,a,n){return s("tr",{key:n},[s("td",[t._v("\n                        "+t._s(t.numbers[a])+"\n                    ")]),s("td",[t._v("\n                        "+t._s(e)+"\n                    ")]),s("td",[t._v("\n                        "+t._s(t.answers[a])+"\n                    ")])])}),0)])])])},se=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",{staticClass:"thead-light"},[s("tr",[s("th",[t._v("\n                        #\n                    ")]),s("th",[t._v("\n                        Вариант ответа\n                    ")]),s("th",[t._v("\n                        Ответов\n                    ")])])])}],ae=s("e814"),ne=s.n(ae),ie=s("30ef"),re=s.n(ie),oe={name:"chart",props:["variants","answers","index"],data:function(){return{}},computed:{numbers:function(){var t=[];for(var e in this.variants)t.push(ne()(e)+1);return t},union:function(){var t=[];for(var e in this.variants)t.push({variant:this.variants[e],value:this.answers[e]});return t}},mounted:function(){var t=document.getElementById("chart-"+this.index);new re.a(t,{type:"horizontalBar",data:{labels:this.numbers,datasets:[{label:"",data:this.answers,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},options:{legend:{display:!1},responsive:!0,scales:{xAxes:[{gridLines:{display:!1},ticks:{beginAtZero:!0,stepSize:1}}],yAxes:[{gridLines:{display:!1}}]}}})}},le=oe,ce=(s("5ca3"),Object(p["a"])(le,ee,se,!1,null,"0df62d7c",null)),ue=ce.exports,de=(s("ac6a"),function t(e){for(var s in Object(K["a"])(this,t),e.questions){var a=e.questions[s];for(var n in this[s]=[],a.variants)this[s][n]=0}for(var i in e.answers){var r=e.answers[i].values;for(var o in r){var l=r[o];this[o][l]++}}});function pe(t,e){N.a.firestore().collection("polls").doc(e).get().then(function(e){void 0!==e.data()?e.data().author===t.$store.getters.user?(t.access=!0,t.data=new tt(e.data()),t.statistics=new de(t.data)):t.access=!1:t.data=void 0})}var fe={name:"statistics-view",components:{"chart-view":ue,"app-alert":Qt,"app-loading":Zt},data:function(){return{data:null,statistics:{},access:null}},computed:{status:function(){return null===this.data&&null===this.access?"Loading":void 0===this.data?"Not found":!1===this.access?"No access":"Loaded"}},beforeMount:function(){var t=this.$route.params["poll_id"];pe(this,t)},beforeRouteUpdate:function(t,e,s){this.data=null,this.statistics={},this.access=null;var a=t.params["poll_id"];pe(this,a),s()}},me=fe,ve=(s("8b7b"),Object(p["a"])(me,Xt,te,!1,null,"1531d2f5",null)),he=ve.exports;a["a"].use($["a"]);var be=new $["a"]({routes:[{path:"/",name:"home",component:S,meta:{requiresAuth:!1,requiresGuest:!1}},{path:"/newpoll",name:"newpoll",component:nt,meta:{requiresAuth:!0,requiresGuest:!1}},{path:"/mypolls",name:"mypolls",component:pt,meta:{requiresAuth:!0,requiresGuest:!1}},{path:"/profile",name:"profile",component:gt,meta:{requiresAuth:!0,requiresGuest:!1}},{path:"/registration",name:"registration",component:qt,meta:{requiresAuth:!1,requiresGuest:!0}},{path:"/login",name:"login",component:Ot,meta:{requiresAuth:!1,requiresGuest:!0}},{path:"/poll/:poll_id",name:"poll-view",component:Yt,meta:{requiresAuth:!0,requiresGuest:!1}},{path:"/statistics/:poll_id",name:"statistics-view",component:he,meta:{requiresAuth:!0,requiresGuest:!1}}]});be.beforeEach(function(t,e,s){N.a.auth().onAuthStateChanged(function(e){t.meta.requiresAuth&&!t.meta.requiresGuest?e?s():s({path:"/login"}):!t.meta.requiresAuth&&t.meta.requiresGuest&&e?s({path:"/"}):s()})});var ge=be,ye=s("2f62"),_e=(s("28a5"),function(){function t(e){for(var s in Object(K["a"])(this,t),this.firstName=null,this.lastName=null,this.email=null,this.id=null,this.polls=[],e)this[s]=e[s]}return Object(Y["a"])(t,[{key:"data",value:function(){return{firstName:this.firstName,lastName:this.lastName,email:this.email,id:this.id,polls:this.polls}}},{key:"addPoll",value:function(t){this.polls.push(t)}},{key:"delPoll",value:function(t){for(var e in this.polls)this.polls[e]===t&&this.polls.slice(ne()(e),1)}},{key:"fullName",get:function(){return this.firstName+" "+this.lastName}},{key:"username",get:function(){return this.email.split("@")[0]}},{key:"pollSum",get:function(){return this.polls.length}}]),t}()),Ce={state:{user:null,_user:null,profile:null,loginError:null,regError:null},mutations:{setUser:function(t,e){e?(t.user=e.uid,t["_user"]=e):t.user=e},setProfile:function(t,e){t.profile=e},setLoginError:function(t,e){t.loginError=e},setRegError:function(t,e){t.regError=e}},actions:{setUser:function(t,e){var s=t.commit;s("setUser",e)},login:function(t,e){var s=t.commit;try{N.a.auth().signInWithEmailAndPassword(e.email,e.password).then(function(t){s("setUser",t),s("setLoginError",null)}).catch(function(t){s("setLoginError",t)})}catch(a){s("setLoginError",a)}},registration:function(t,e){var s=t.commit;try{N.a.auth().createUserWithEmailAndPassword(e.email,e.password).then(function(t){var a=we(e,t.user.uid);N.a.firestore().collection("users").doc("".concat(t.user.uid)).set(a.data()),s("setUser",t.user),s("setRegError",null),s("setProfile",a)}).catch(function(t){s("setRegError",t)})}catch(a){s("setRegError",a)}},logout:function(t){var e=t.commit;N.a.auth().signOut().then(function(){e("setUser",null)})},setProfile:function(t,e){var s=t.commit;e?N.a.firestore().collection("users").doc(e.uid).get().then(function(t){s("setProfile",new _e(t.data()))}):s("setProfile",null)}},getters:{user:function(t){return t.user},profile:function(t){return t.profile},loginError:function(t){return t.loginError},regError:function(t){return t.regError}}};function we(t,e){var s={email:t.email,firstName:t.firstName,lastName:t.lastName,id:e};return new _e(s)}a["a"].use(ye["a"]);var ke=new ye["a"].Store({modules:{user:Ce}}),je=(s("66ce"),s("588e"),{apiKey:"AIzaSyB5hQdKSpujIRbtznvlj4nGv3yaMrZnuyw",authDomain:"answer-me-f2634.firebaseapp.com",databaseURL:"https://answer-me-f2634.firebaseio.com",projectId:"answer-me-f2634",storageBucket:"answer-me-f2634.appspot.com",messagingSenderId:"416006589948"});N.a.initializeApp(je),a["a"].config.productionTip=!1,new a["a"]({router:ge,store:ke,render:function(t){return t(E)},beforeMount:function(){var t=this;N.a.auth().onAuthStateChanged(function(e){t.$store.dispatch("setUser",e),t.$store.dispatch("setProfile",e)})}}).$mount("#app")},"5a36":function(t,e,s){"use strict";var a=s("7093"),n=s.n(a);n.a},"5ca3":function(t,e,s){"use strict";var a=s("7da6"),n=s.n(a);n.a},"64a9":function(t,e,s){},6718:function(t,e,s){"use strict";var a=s("af96"),n=s.n(a);n.a},6963:function(t,e,s){"use strict";var a=s("c90e"),n=s.n(a);n.a},7093:function(t,e,s){},"782e":function(t,e,s){},"7da6":function(t,e,s){},8892:function(t,e,s){},"8b7b":function(t,e,s){"use strict";var a=s("cba2"),n=s.n(a);n.a},"8baf":function(t,e,s){"use strict";var a=s("782e"),n=s.n(a);n.a},"8dad":function(t,e,s){},"8dbe":function(t,e,s){},"96bd":function(t,e,s){"use strict";var a=s("8892"),n=s.n(a);n.a},a9ff:function(t,e,s){},af96:function(t,e,s){},c6b4:function(t,e,s){"use strict";var a=s("8dbe"),n=s.n(a);n.a},c90e:function(t,e,s){},cb09:function(t,e,s){"use strict";var a=s("dbbf"),n=s.n(a);n.a},cba2:function(t,e,s){},cccb:function(t,e,s){"use strict";var a=s("d563"),n=s.n(a);n.a},d563:function(t,e,s){},dbbf:function(t,e,s){}});
//# sourceMappingURL=app.47e36683.js.map